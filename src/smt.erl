-module(smt).

-include("smt.hrl").

%%%----------------------------------------------------------------------------
%%% Exports
%%%----------------------------------------------------------------------------

-export([t/0]).

%%%----------------------------------------------------------------------------
%%% API
%%%----------------------------------------------------------------------------
t() ->
    Url = get_url(),
    Count = get_count(),
    Hz = get_hz(),
    Seconds = get_seconds(),
    error_logger:info_report({?MODULE, t, ?LINE, Url, Count, Hz, Seconds}),
    Stat = #stat{},
    St = #st{url=Url, hz=Hz, seconds=Seconds},
    Pids = [new_conn(St) || _ <- lists:duplicate(Count, true)]
    .

%%%----------------------------------------------------------------------------
%%% Internal functions
%%%----------------------------------------------------------------------------
get_url() ->
    get_env_item(url).

%%-----------------------------------------------------------------------------
get_count() ->
    get_env_item(count).

%%-----------------------------------------------------------------------------
get_hz() ->
    get_env_item(hz).

%%-----------------------------------------------------------------------------
get_seconds() ->
    get_env_item(seconds).

%%-----------------------------------------------------------------------------
get_env_item(Key) ->
    {ok, Val} = application:get_env(smoke_test, Key),
    Val.
    
%%-----------------------------------------------------------------------------
-spec new_conn(#stat{}) -> pid().

new_conn(St) ->
    ok
    .

%%-----------------------------------------------------------------------------
